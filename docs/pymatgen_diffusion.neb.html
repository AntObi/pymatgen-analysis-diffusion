
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pymatgen_diffusion.neb package &#8212; pymatgen-diffusion 2020.10.8 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="pymatgen_diffusion.aimd package" href="pymatgen_diffusion.aimd.html" />

   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pymatgen_diffusion.aimd.html" title="pymatgen_diffusion.aimd package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen-diffusion 2020.10.8 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >pymatgen_diffusion</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="pymatgen_diffusion.html" accesskey="U">pymatgen_diffusion package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pymatgen_diffusion.neb package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pymatgen-diffusion-neb-package">
<h1>pymatgen_diffusion.neb package<a class="headerlink" href="#pymatgen-diffusion-neb-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pymatgen_diffusion.neb.full_path_mapper">
<span id="pymatgen-diffusion-neb-full-path-mapper-module"></span><h2>pymatgen_diffusion.neb.full_path_mapper module<a class="headerlink" href="#module-pymatgen_diffusion.neb.full_path_mapper" title="Permalink to this headline">¶</a></h2>
<p>Migraiton Graph Analysis</p>
<dl class="py class">
<dt id="pymatgen_diffusion.neb.full_path_mapper.ChargeBarrierGraph">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">ChargeBarrierGraph</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migration_graph</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.analysis.graphs.StructureGraph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential_field</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.io.vasp.outputs.VolumetricData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">potential_data_key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#ChargeBarrierGraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.ChargeBarrierGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph" title="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen_diffusion.neb.full_path_mapper.MigrationGraph</span></code></a></p>
<p>A Migration graph with additional charge density analysis on the charge density of the host material</p>
<p>Construct the MigrationGraph object using a VolumetricData object.
The graph is constructure using the structure, and cost values are assigned based on charge density analysis.
:param potential_field: Input VolumetricData object that describes the field does</p>
<blockquote>
<div><p>not have to contains all the metastable sites.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>migrating_specie</strong> (<em>Specie-like</em>) – The specie that migrates. E.g.,
“Li”.</p></li>
<li><p><strong>symprec</strong> (<em>float</em>) – Symmetry precision to determine equivalence.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.ChargeBarrierGraph.get_least_chg_path">
<code class="sig-name descname"><span class="pre">get_least_chg_path</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#ChargeBarrierGraph.get_least_chg_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.ChargeBarrierGraph.get_least_chg_path" title="Permalink to this definition">¶</a></dt>
<dd><p>obtain an intercolating pathway through the material that has the least amount of charge
:returns: list of hops</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.ChargeBarrierGraph.get_summary_dict">
<code class="sig-name descname"><span class="pre">get_summary_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">add_keys</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#ChargeBarrierGraph.get_summary_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.ChargeBarrierGraph.get_summary_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary format, for saving to database</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.ChargeBarrierGraph.populate_edges_with_chg_density_info">
<code class="sig-name descname"><span class="pre">populate_edges_with_chg_density_info</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tube_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#ChargeBarrierGraph.populate_edges_with_chg_density_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.ChargeBarrierGraph.populate_edges_with_chg_density_info" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tube_radius</strong> – Tube radius.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">MigrationGraph</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migration_graph</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.analysis.graphs.StructureGraph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vac_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#MigrationGraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">monty.json.MSONable</span></code></p>
<p>A python object for handling the migratrion graph of a given base
structure and mobile specie sites within that base structure.</p>
<p>Each mobile site is a node in the migration graph and hops
(between sites) are edges. The migration graph object uses
the Structure Graph from pymatgen.</p>
<p>Construct the MigrationGraph object using a potential_field will
all mobile sites occupied. A potential_field graph is generated by
connecting all sites as specified by the migration graph.
The sites are decorated with Migration graph objects and then grouped
together based on their equivalence.
:param structure: Structure with base framework and mobile sites.</p>
<blockquote>
<div><p>When used with structure_is_base = True, only the base framework
structure, does not contain any migrating sites.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>migration_graph</strong> – The StructureGraph object that defines the
migration network</p></li>
<li><p><strong>symprec</strong> (<em>float</em>) – Symmetry precision to determine equivalence
of migration events</p></li>
<li><p><strong>vac_mode</strong> (<em>Bool</em>) – indicates whether vacancy mode should be used</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.add_data_to_similar_edges">
<code class="sig-name descname"><span class="pre">add_data_to_similar_edges</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_label</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#pymatgen_diffusion.neb.pathfinder.MigrationHop" title="pymatgen_diffusion.neb.pathfinder.MigrationHop"><span class="pre">pymatgen_diffusion.neb.pathfinder.MigrationHop</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#MigrationGraph.add_data_to_similar_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.add_data_to_similar_edges" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert data to all edges with the same label
:param target_label: The edge uniqueness label are adding data
:param data: The data to passed to the different edges
:param m_path: If the data is an array, and m_path is set, it uses the reference migration path to
:param determine whether the data needs to be flipped so that 0–&gt;1 is different from 1–&gt;0:</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.assign_cost_to_graph">
<code class="sig-name descname"><span class="pre">assign_cost_to_graph</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cost_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['hop_distance']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#MigrationGraph.assign_cost_to_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.assign_cost_to_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the data dict on each add and populate a cost key
:param cost_keys: a list of keys for data on each edge.</p>
<blockquote>
<div><p>The SC Graph is decorated with a “cost” key that is the product of the different keys here</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.get_path">
<code class="sig-name descname"><span class="pre">get_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#MigrationGraph.get_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.get_path" title="Permalink to this definition">¶</a></dt>
<dd><p>obtain a pathway through the material using hops that are in the current graph
Basic idea:</p>
<blockquote>
<div><p>Get an endpoint p1 in the graph that is outside the current unit cell
Ask the graph for a pathway that connects to p1 from either within the (0,0,0) cell
or any other neighboring UC not containing p1.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_val</strong> – Filter the graph by a cost</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Each dict contains the information of a hop</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Generator for List of Dicts</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.get_structure_from_entries">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">get_structure_from_entries</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_entries</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pymatgen.entries.computed_entries.ComputedStructureEntry</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inserted_entries</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pymatgen.entries.computed_entries.ComputedStructureEntry</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migrating_ion_entry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.entries.computed_entries.ComputedEntry</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pymatgen.core.structure.Structure</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#MigrationGraph.get_structure_from_entries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.get_structure_from_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a list of base entries and inserted entries.  Return a list of structures that contains metastable
sites for the migration species decorated with a “insertion_energy” property.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_entries</strong> – List of entries that only contains the host lattice</p></li>
<li><p><strong>inserted_entries</strong> – List of entries that contains the inserted structures</p></li>
<li><p><strong>migrating_ion_entry</strong> – The metallic phase of the working ion, used to calculate insertion energies.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Additional Kwargs:</dt><dd><p>symprec:  symmetry parameter for SpacegroupAnalyzer
ltol: Fractional length tolerance for StructureMatcher
stol: Site tolerance for StructureMatcher
angle_tol: Angle tolerance fro StructureMatcher and SpacegroupAnalyzer
only_single_cat: If True, only use single cation insertions so the
site energy is more accurate use_strict_tol: halve the ltol and
stol parameter for more strict matching.</p>
</dd>
</dl>
<p>Returns:</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.get_summary_dict">
<code class="sig-name descname"><span class="pre">get_summary_dict</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">added_keys</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">dict</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#MigrationGraph.get_summary_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.get_summary_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary format, for saving to database</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.host_structure">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">host_structure</span></code><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.host_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>A structure that only contains the non-migrating species</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.only_sites">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">only_sites</span></code><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.only_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>A structure that only contains the migrating species</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.symm_structure">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">symm_structure</span></code><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.symm_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>The symmetrized structure with the present item’s symprec value</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.unique_hops">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">unique_hops</span></code><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.unique_hops" title="Permalink to this definition">¶</a></dt>
<dd><p>The unique hops dictionary keyed by the hop label</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.with_base_structure">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">with_base_structure</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_structure</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migration_graph</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.analysis.graphs.StructureGraph</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph" title="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph"><span class="pre">pymatgen_diffusion.neb.full_path_mapper.MigrationGraph</span></a><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#MigrationGraph.with_base_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.with_base_structure" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>base_structure</strong> – base framework structure that does not contain any
migrating sites.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A constructed MigrationGraph object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.with_distance">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">with_distance</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migrating_specie</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_distance</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph" title="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph"><span class="pre">pymatgen_diffusion.neb.full_path_mapper.MigrationGraph</span></a><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#MigrationGraph.with_distance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.with_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Using a specific nn strategy to get the connectivity graph between all the migrating ion sites.
:param max_distance: Maximum length of NEB path in the unit</p>
<blockquote>
<div><p>of Angstrom. Defaults to None, which means you are setting the
value to the min cutoff until finding 1D or &gt;1D percolating paths.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A constructed MigrationGraph object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.with_local_env_strategy">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">with_local_env_strategy</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migrating_specie</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nn</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.analysis.local_env.NearNeighbors</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph" title="pymatgen_diffusion.neb.full_path_mapper.MigrationGraph"><span class="pre">pymatgen_diffusion.neb.full_path_mapper.MigrationGraph</span></a><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#MigrationGraph.with_local_env_strategy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.MigrationGraph.with_local_env_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Using a specific nn strategy to get the connectivity graph between all the migrating ion sites.
:param structure: Input structure that contains all sites.
:param migrating_specie: The specie that migrates. E.g. “Li”.
:param nn: The specific local environment object used to connect the migrating ion sites.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A constructed MigrationGraph object</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.full_path_mapper.almost">
<code class="sig-name descname"><span class="pre">almost</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#almost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.almost" title="Permalink to this definition">¶</a></dt>
<dd><p>return true if the values are almost equal</p>
</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.full_path_mapper.check_uc_hop">
<code class="sig-name descname"><span class="pre">check_uc_hop</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sc_hop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uc_hop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#check_uc_hop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.check_uc_hop" title="Permalink to this definition">¶</a></dt>
<dd><p>See if hop in the 2X2X2 supercell and a unit cell hop
are equilvalent under lattice translation
:param sc_hop: MigrationHop object form pymatgen-diffusion.
:param uc_hop: MigrationHop object form pymatgen-diffusion.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>image vector of lenght 3
Is the UC hop flip of the SC hop</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.full_path_mapper.generic_groupby">
<code class="sig-name descname"><span class="pre">generic_groupby</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">list_in:</span> <span class="pre">list</span></em>, <em class="sig-param"><span class="pre">comp:</span> <span class="pre">Callable</span> <span class="pre">=</span> <span class="pre">&lt;built-in</span> <span class="pre">function</span> <span class="pre">eq&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#generic_groupby"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.generic_groupby" title="Permalink to this definition">¶</a></dt>
<dd><p>Group a list of unsortable objects
:param list_in: A list of generic objects
:param comp: (Default value = operator.eq) The comparator</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>[int] list of labels for the input list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.full_path_mapper.get_hop_site_sequence">
<code class="sig-name descname"><span class="pre">get_hop_site_sequence</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hop_list</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_u</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#get_hop_site_sequence"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.get_hop_site_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Read in a list of hop dictionaries and print the sequence of sites.
:param hop_list: a list of the data on a sequence of hops
:param start_u: the site index of the starting sites</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>String representation of the hop sequence</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.full_path_mapper.get_only_sites_from_structure">
<code class="sig-name descname"><span class="pre">get_only_sites_from_structure</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migrating_specie</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">pymatgen.core.structure.Structure</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#get_only_sites_from_structure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.get_only_sites_from_structure" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a copy of the structure with only the migrating sites.
:param structure: The full_structure that contains all the sites
:param migrating_specie: The name of migrating species</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Structure with all possible migrating ion sites</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Structure</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.full_path_mapper.map_hop_sc2uc">
<code class="sig-name descname"><span class="pre">map_hop_sc2uc</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sc_hop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpm_uc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/full_path_mapper.html#map_hop_sc2uc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.full_path_mapper.map_hop_sc2uc" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a given hop in the SC onto the UC.
:param sc_hop: MigrationHop object form pymatgen-diffusion.
:param fpm_uc: MigrationGraph object from pymatgen-diffusion.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For now assume that the SC is exactly 2x2x2 of the UC.
Can add in the parsing of different SC’s later
For a migration event in the SC from (0.45,0,0)–&gt;(0.55,0,0)
the UC hop might be (0.9,0,0)–&gt;(0.1,0,0)[img:100]
for the inverse of (0.1,0,0)–&gt;(-0.1,0,0) the code needs to account for both those cases</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-pymatgen_diffusion.neb.io">
<span id="pymatgen-diffusion-neb-io-module"></span><h2>pymatgen_diffusion.neb.io module<a class="headerlink" href="#module-pymatgen_diffusion.neb.io" title="Permalink to this headline">¶</a></h2>
<p>Generate input fiels for NEB calculations.</p>
<dl class="py class">
<dt id="pymatgen_diffusion.neb.io.MVLCINEBEndPointSet">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">MVLCINEBEndPointSet</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/io.html#MVLCINEBEndPointSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.io.MVLCINEBEndPointSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.vasp.sets.MITRelaxSet</span></code></p>
<p>Class for writing NEB end points relaxation inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> – Structure</p></li>
<li><p><strong>**kwargs</strong> – Keyword args supported by VaspInputSets.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pymatgen_diffusion.neb.io.MVLCINEBSet">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">MVLCINEBSet</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structures</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/io.html#MVLCINEBSet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.io.MVLCINEBSet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.io.vasp.sets.MITNEBSet</span></code></p>
<p>MAVRL-tested settings for CI-NEB calculations. Note that these parameters
requires the VTST modification of VASP from the Henkelman group. See
<a class="reference external" href="http://theory.cm.utexas.edu/vtsttools/">http://theory.cm.utexas.edu/vtsttools/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> – Structure</p></li>
<li><p><strong>**kwargs</strong> – Keyword args supported by VaspInputSets.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.io.get_endpoint_dist">
<code class="sig-name descname"><span class="pre">get_endpoint_dist</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ep_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ep_1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/io.html#get_endpoint_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.io.get_endpoint_dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate a list of site distances between two endpoints, assuming periodic
boundary conditions.
:param ep_0: the first endpoint structure.
:type ep_0: Structure
:param ep_1: the second endpoint structure.
:type ep_1: Structure</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of distances between two structures.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dist (list)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.io.get_endpoints_from_index">
<code class="sig-name descname"><span class="pre">get_endpoints_from_index</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site_indices</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/io.html#get_endpoints_from_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.io.get_endpoints_from_index" title="Permalink to this definition">¶</a></dt>
<dd><p>This class reads in one perfect structure and the two endpoint structures
are generated using site_indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> (<em>Structure</em>) – A perfect structure.</p></li>
<li><p><strong>site_indices</strong> (<em>list of int</em>) – a two-element list indicating site indices.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>a two-element list of two endpoints</dt><dd><p>Structure object.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>endpoints (list of Structure)</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymatgen_diffusion.neb.pathfinder">
<span id="pymatgen-diffusion-neb-pathfinder-module"></span><h2>pymatgen_diffusion.neb.pathfinder module<a class="headerlink" href="#module-pymatgen_diffusion.neb.pathfinder" title="Permalink to this headline">¶</a></h2>
<p>Algorithms for NEB migration path analysis.</p>
<dl class="py class">
<dt id="pymatgen_diffusion.neb.pathfinder.DistinctPathFinder">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">DistinctPathFinder</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migrating_specie</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_path_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">perc_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'&gt;1d'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#DistinctPathFinder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.DistinctPathFinder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Determines symmetrically distinct paths between existing sites.
The path info can then be used to set up either vacancy or interstitial
diffusion (assuming site positions are known). Note that this works mainly
for atomic mechanism, and does not work for correlated migration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>structure</strong> – Input structure that contains all sites.</p></li>
<li><p><strong>migrating_specie</strong> (<em>Specie-like</em>) – The specie that migrates. E.g.,
“Li”.</p></li>
<li><p><strong>max_path_length</strong> (<em>float</em>) – Maximum length of NEB path in the unit
of Angstrom. Defaults to None, which means you are setting the
value to the min cutoff until finding 1D or &gt;1D percolating paths.</p></li>
<li><p><strong>symprec</strong> (<em>float</em>) – Symmetry precision to determine equivalence.</p></li>
<li><p><strong>perc_mode</strong> (<em>str</em>) – The percolating type. Default to “&gt;1d”, because usually
it is used to find possible NEB paths to form percolating networks.
If you just want to check the min 1D percolation, set it to “1d”.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pymatgen_diffusion.neb.pathfinder.DistinctPathFinder.get_paths">
<code class="sig-name descname"><span class="pre">get_paths</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#DistinctPathFinder.get_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.DistinctPathFinder.get_paths" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>[MigrationHop] All distinct migration paths.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.pathfinder.DistinctPathFinder.write_all_paths">
<code class="sig-name descname"><span class="pre">write_all_paths</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nimages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#DistinctPathFinder.write_all_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.DistinctPathFinder.write_all_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a file containing all paths, using hydrogen as a placeholder for
the images. H is chosen as it is the smallest atom. This is extremely
useful for path visualization in a standard software like VESTA.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<em>str</em>) – Filename</p></li>
<li><p><strong>nimages</strong> (<em>int</em>) – Number of images per path.</p></li>
<li><p><strong>**kwargs</strong> – Passthrough kwargs to path.get_structures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymatgen_diffusion.neb.pathfinder.IDPPSolver">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">IDPPSolver</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">structures</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#IDPPSolver"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.IDPPSolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A solver using image dependent pair potential (IDPP) algo to get an improved
initial NEB path. For more details about this algo, please refer to
Smidstrup et al., J. Chem. Phys. 140, 214106 (2014).</p>
<p>Initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>structures</strong> (<em>list of pmg_structure</em>) – Initial guess of the NEB path
(including initial and final end-point structures).</p>
</dd>
</dl>
<dl class="py method">
<dt id="pymatgen_diffusion.neb.pathfinder.IDPPSolver.from_endpoints">
<em class="property"><span class="pre">classmethod</span> </em><code class="sig-name descname"><span class="pre">from_endpoints</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nimages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#IDPPSolver.from_endpoints"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.IDPPSolver.from_endpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>A class method that starts with end-point structures instead. The
initial guess for the IDPP algo is then constructed using linear
interpolation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoints</strong> (<em>list of Structure objects</em>) – The two end-point structures.</p></li>
<li><p><strong>nimages</strong> (<em>int</em>) – Number of images between the two end-points.</p></li>
<li><p><strong>sort_tol</strong> (<em>float</em>) – Distance tolerance (in Angstrom) used to match the
atomic indices between start and end structures. Need
to increase the value in some cases.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.pathfinder.IDPPSolver.get_unit_vector">
<em class="property"><span class="pre">static</span> </em><code class="sig-name descname"><span class="pre">get_unit_vector</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#IDPPSolver.get_unit_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.IDPPSolver.get_unit_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the unit vector of a vector.
:param vec: Vector.</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.pathfinder.IDPPSolver.run">
<code class="sig-name descname"><span class="pre">run</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">step_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spring_const</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#IDPPSolver.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.IDPPSolver.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform iterative minimization of the set of objective functions in an
NEB-like manner. In each iteration, the total force matrix for each
image is constructed, which comprises both the spring forces and true
forces. For more details about the NEB approach, please see the
references, e.g. Henkelman et al., J. Chem. Phys. 113, 9901 (2000).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>maxiter</strong> (<em>int</em>) – Maximum number of iterations in the minimization
process.</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – Tolerance of the change of objective functions between
consecutive steps.</p></li>
<li><p><strong>gtol</strong> (<em>float</em>) – Tolerance of maximum force component (absolute value).</p></li>
<li><p><strong>step_size</strong> (<em>float</em>) – Step size associated with the displacement of
the atoms during the minimization process.</p></li>
<li><p><strong>max_disp</strong> (<em>float</em>) – Maximum allowed atomic displacement in each
iteration.</p></li>
<li><p><strong>spring_const</strong> (<em>float</em>) – A virtual spring constant used in the NEB-like
relaxation process that yields so-called IDPP path.</p></li>
<li><p><strong>species</strong> (<em>list of string</em>) – If provided, only those given species are
allowed to move. The atomic positions of other species are
obtained via regular linear interpolation approach.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[Structure] Complete IDPP path (including end-point structures)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pymatgen_diffusion.neb.pathfinder.MigrationHop">
<em class="property"><span class="pre">class</span> </em><code class="sig-name descname"><span class="pre">MigrationHop</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">isite</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.sites.Site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">esite</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.sites.Site</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symm_structure</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.symmetry.structure.SymmetrizedStructure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#MigrationHop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.MigrationHop" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A convenience container representing a migration path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>isite</strong> – Initial site</p></li>
<li><p><strong>esite</strong> – End site</p></li>
<li><p><strong>symm_structure</strong> – SymmetrizedStructure</p></li>
<li><p><strong>symprec</strong> – used to determine equivalence</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pymatgen_diffusion.neb.pathfinder.MigrationHop.get_structures">
<code class="sig-name descname"><span class="pre">get_structures</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nimages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vac_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idpp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">idpp_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#MigrationHop.get_structures"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.MigrationHop.get_structures" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate structures for NEB calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nimages</strong> (<em>int</em>) – Defaults to 5. Number of NEB images. Total number of
structures returned in nimages+2.</p></li>
<li><p><strong>vac_mode</strong> (<em>bool</em>) – Defaults to True. In vac_mode, a vacancy diffusion
mechanism is assumed. The initial and end sites of the path
are assumed to be the initial and ending positions of the
vacancies. If vac_mode is False, an interstitial mechanism is
assumed. The initial and ending positions are assumed to be
the initial and ending positions of the interstitial, and all
other sites of the same specie are removed. E.g., if NEBPaths
were obtained using a Li4Fe4P4O16 structure, vac_mode=True would
generate structures with formula Li3Fe4P4O16, while
vac_mode=False would generate structures with formula
LiFe4P4O16.</p></li>
<li><p><strong>idpp</strong> (<em>bool</em>) – Defaults to False. If True, the generated structures
will be run through the IDPPSolver to generate a better guess
for the minimum energy path.</p></li>
<li><p><strong>**idpp_kwargs</strong> – Passthrough kwargs for the IDPPSolver.run.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[Structure] Note that the first site of each structure is always
the migrating ion. This makes it easier to perform subsequent
analysis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.pathfinder.MigrationHop.length">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">length</span></code><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.MigrationHop.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns:
(float) Length of migration path.</p>
</dd></dl>

<dl class="py method">
<dt id="pymatgen_diffusion.neb.pathfinder.MigrationHop.write_path">
<code class="sig-name descname"><span class="pre">write_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/pathfinder.html#MigrationHop.write_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.pathfinder.MigrationHop.write_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the path to a file for easy viewing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fname</strong> (<em>str</em>) – File name.</p></li>
<li><p><strong>**kwargs</strong> – Kwargs supported by NEBPath.get_structures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pymatgen_diffusion.neb.periodic_dijkstra">
<span id="pymatgen-diffusion-neb-periodic-dijkstra-module"></span><h2>pymatgen_diffusion.neb.periodic_dijkstra module<a class="headerlink" href="#module-pymatgen_diffusion.neb.periodic_dijkstra" title="Permalink to this headline">¶</a></h2>
<p>Dijkstra’s path search on a graph where the nodes are on a periodic graph</p>
<dl class="py function">
<dt id="pymatgen_diffusion.neb.periodic_dijkstra.get_optimal_pathway_rev">
<code class="sig-name descname"><span class="pre">get_optimal_pathway_rev</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_parent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">leaf_node</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/periodic_dijkstra.html#get_optimal_pathway_rev"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.periodic_dijkstra.get_optimal_pathway_rev" title="Permalink to this definition">¶</a></dt>
<dd><p>follow a leaf node all the way up to source.</p>
</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.periodic_dijkstra.periodic_dijkstra">
<code class="sig-name descname"><span class="pre">periodic_dijkstra</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">G:</span> <span class="pre">networkx.classes.graph.Graph</span></em>, <em class="sig-param"><span class="pre">sources:</span> <span class="pre">set</span></em>, <em class="sig-param"><span class="pre">weight:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'weight'</span></em>, <em class="sig-param"><span class="pre">max_image:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">2</span></em>, <em class="sig-param"><span class="pre">target_reached:</span> <span class="pre">callable</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;)</span> <span class="pre">-&gt;</span> <span class="pre">(typing.Dict</span></em>, <em class="sig-param"><span class="pre">typing.Dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/periodic_dijkstra.html#periodic_dijkstra"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.periodic_dijkstra.periodic_dijkstra" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the lowest cost pathway from a source point in the periodic graph.
Since the search can move many cells away without finding the target
we have to limit how many cells away from (0,0,0) to search.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>Graph</em>) – The graph object with additional “to_jimage” fields to
indicate edges across periodic images.</p></li>
<li><p><strong>sources</strong> (<em>set</em>) – the index of the source node</p></li>
<li><p><strong>target</strong> (<em>int</em><em>, </em><em>optional</em>) – The index of of target node, if None populate all nodes. Defaults to None.</p></li>
<li><p><strong>max_image</strong> (<em>int</em><em>, </em><em>optional</em>) – Defaults to 3.</p></li>
<li><p><strong>target_reached</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function of (site_index, jimage) used to check
for stop iteration. This function is always called on the top of heap so it might miss the optimal path but
often can find a “good enough” path very quickly.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dictionary of the best cost found to periodic node keyed by (site_index, jimage)
path_parent: dictionary of optimal path parent for each node given in index-image pairs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>best_ans</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen_diffusion.neb.periodic_dijkstra.periodic_dijkstra_on_sgraph">
<code class="sig-name descname"><span class="pre">periodic_dijkstra_on_sgraph</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">sgraph:</span> <span class="pre">pymatgen.analysis.graphs.StructureGraph</span></em>, <em class="sig-param"><span class="pre">sources:</span> <span class="pre">set()</span></em>, <em class="sig-param"><span class="pre">weight:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'weight'</span></em>, <em class="sig-param"><span class="pre">max_image:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1</span></em>, <em class="sig-param"><span class="pre">target_reached:</span> <span class="pre">callable</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen_diffusion/neb/periodic_dijkstra.html#periodic_dijkstra_on_sgraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen_diffusion.neb.periodic_dijkstra.periodic_dijkstra_on_sgraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the lowest cost pathway from a source point in the periodic graph.
Since the search can move many cells away without finding the target
we have to limit how many cells away from (0,0,0) to search.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sgraph</strong> (<em>Graph</em>) – The StructureGraph object used for path searching</p></li>
<li><p><strong>sources</strong> (<em>set</em>) – the index of the source node</p></li>
<li><p><strong>target</strong> (<em>int</em><em>, </em><em>optional</em>) – The index of of target node, if None populate all nodes. Defaults to None.</p></li>
<li><p><strong>max_image</strong> (<em>int</em><em>, </em><em>optional</em>) – Defaults to 3.</p></li>
<li><p><strong>target_reached</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function of (site_index, jimage) used to check
for stop iteration. This function is always called on the top of heap so it might miss the optimal path but
often can find a “good enough” path very quickly.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dictionary of the best cost found to periodic node keyed by (site_index, jimage)
path_parent: dictionary of optimal path parent for each node given in index-image pairs.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>best_ans</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-pymatgen_diffusion.neb">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pymatgen_diffusion.neb" title="Permalink to this headline">¶</a></h2>
<p>Analysis tools for NEB calculations, inlcuding pathway analysis.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pymatgen_diffusion.neb package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pymatgen_diffusion.neb.full_path_mapper">pymatgen_diffusion.neb.full_path_mapper module</a></li>
<li><a class="reference internal" href="#module-pymatgen_diffusion.neb.io">pymatgen_diffusion.neb.io module</a></li>
<li><a class="reference internal" href="#module-pymatgen_diffusion.neb.pathfinder">pymatgen_diffusion.neb.pathfinder module</a></li>
<li><a class="reference internal" href="#module-pymatgen_diffusion.neb.periodic_dijkstra">pymatgen_diffusion.neb.periodic_dijkstra module</a></li>
<li><a class="reference internal" href="#module-pymatgen_diffusion.neb">Module contents</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">pymatgen_diffusion</a><ul>
  <li><a href="pymatgen_diffusion.html">pymatgen_diffusion package</a><ul>
      <li>Previous: <a href="pymatgen_diffusion.aimd.html" title="previous chapter">pymatgen_diffusion.aimd package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pymatgen_diffusion.neb.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright 2016, Materials Virtual Lab.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>