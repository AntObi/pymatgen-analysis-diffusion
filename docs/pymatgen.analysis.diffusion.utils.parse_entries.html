
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>pymatgen.analysis.diffusion.utils.parse_entries module &#8212; pymatgen-diffusion 2021.4.29 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33990148-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen-diffusion 2021.4.29 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pymatgen.analysis.diffusion.utils.parse_entries module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pymatgen.analysis.diffusion.utils.parse_entries">
<span id="pymatgen-analysis-diffusion-utils-parse-entries-module"></span><h1>pymatgen.analysis.diffusion.utils.parse_entries module<a class="headerlink" href="#module-pymatgen.analysis.diffusion.utils.parse_entries" title="Permalink to this headline">¶</a></h1>
<p>Functions for combining many ComputedEntry objects into MigrationGraph objects.</p>
<dl class="py function">
<dt id="pymatgen.analysis.diffusion.utils.parse_entries.get_inserted_on_base">
<code class="sig-name descname"><span class="pre">get_inserted_on_base</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_ent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.entries.computed_entries.ComputedStructureEntry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inserted_ent</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.entries.computed_entries.ComputedStructureEntry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migrating_ion_entry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.entries.computed_entries.ComputedEntry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.analysis.structure_matcher.StructureMatcher</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">pymatgen.core.structure.Structure</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/pymatgen/analysis/diffusion/utils/parse_entries.html#get_inserted_on_base"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.analysis.diffusion.utils.parse_entries.get_inserted_on_base" title="Permalink to this definition">¶</a></dt>
<dd><p>For a structured-matched pair of base and inserted entries, map all of the Li positions in the inserted entry to
positions in the base entry and return a new structure where all the sites are decorated with the insertion
energy. Since the calculation of the insertion energy needs the energy of the metallic working ion,
a <cite>migrating_ion_entry</cite> must also be provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_ent</strong> – The entry for the host structure</p></li>
<li><p><strong>inserted_ent</strong> – The entry for the inserted structure</p></li>
<li><p><strong>migrating_ion_entry</strong> – The entry containing the migrating ion</p></li>
<li><p><strong>sm</strong> – StructureMatcher object used to obtain the mapping</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of entries for each working ion in the list of</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen.analysis.diffusion.utils.parse_entries.get_insertion_energy">
<code class="sig-name descname"><span class="pre">get_insertion_energy</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_entry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.entries.computed_entries.ComputedStructureEntry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inserted_entry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.entries.computed_entries.ComputedStructureEntry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migrating_ion_entry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.entries.computed_entries.ComputedEntry</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">float</span><a class="reference internal" href="_modules/pymatgen/analysis/diffusion/utils/parse_entries.html#get_insertion_energy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.analysis.diffusion.utils.parse_entries.get_insertion_energy" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the insertion energy for a given inserted entry
:param base_entry: The entry for the host structure
:param inserted_entry: The entry for the inserted structure
:param migrating_ion_entry: The entry for the metallic phase of the working ion</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The insertion energy defined as (E[inserted] - (E[Base] + n * E[working_ion]))/(n)
Where n is the number of working ions and E[inserted].
Additionally, and E[base] and E[inserted] are for structures of the same size (sans working ion)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen.analysis.diffusion.utils.parse_entries.get_matched_structure_mapping">
<code class="sig-name descname"><span class="pre">get_matched_structure_mapping</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inserted</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sm</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.analysis.structure_matcher.StructureMatcher</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/analysis/diffusion/utils/parse_entries.html#get_matched_structure_mapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.analysis.diffusion.utils.parse_entries.get_matched_structure_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the mapping from the inserted structure onto the base structure,
assuming that the inserted structure sans the working ion is some kind
of SC of the base.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base</strong> – host structure, smaller cell</p></li>
<li><p><strong>inserted</strong> – bigger cell</p></li>
<li><p><strong>sm</strong> – StructureMatcher instance</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>supercell matrix to apply to s1 to get s2
total-t : translation to apply on s1 * sc_m to get s2</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>sc_m</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen.analysis.diffusion.utils.parse_entries.get_sym_migration_ion_sites">
<code class="sig-name descname"><span class="pre">get_sym_migration_ion_sites</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_struct</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inserted_struct</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.core.structure.Structure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migrating_ion</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_tol</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5.0</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">pymatgen.core.structure.Structure</span><a class="reference internal" href="_modules/pymatgen/analysis/diffusion/utils/parse_entries.html#get_sym_migration_ion_sites"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.analysis.diffusion.utils.parse_entries.get_sym_migration_ion_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>Take one inserted entry then map out all symmetry equivalent copies of the cation sites in base entry.
Each site is decorated with the insertion energy calculated from the base and inserted entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inserted_entry</strong> – entry that contains cation</p></li>
<li><p><strong>base_struct_entry</strong> – the entry containing the base structure</p></li>
<li><p><strong>migrating_ion_entry</strong> – the name of the migrating species</p></li>
<li><p><strong>symprec</strong> – the symprec tolerance for the space group analysis</p></li>
<li><p><strong>angle_tol</strong> – the angle tolerance for the space group analysis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Structure with only the migrating ion sites decorated with insertion energies.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pymatgen.analysis.diffusion.utils.parse_entries.process_entries">
<code class="sig-name descname"><span class="pre">process_entries</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_entries</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pymatgen.entries.computed_entries.ComputedStructureEntry</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inserted_entries</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pymatgen.entries.computed_entries.ComputedStructureEntry</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">migrating_ion_entry</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">pymatgen.entries.computed_entries.ComputedEntry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symprec</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ltol</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stol</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_tol</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">5.0</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="_modules/pymatgen/analysis/diffusion/utils/parse_entries.html#process_entries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.analysis.diffusion.utils.parse_entries.process_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a list of base entries and inserted entries to create input for migration path analysis Each inserted
entries can be mapped to more than one base entry. Return groups of structures decorated with the working ions
to indicate the metastable sites, ranked by the number of working ion sites (highest number is the first).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_entries</strong> – Full list of base entires</p></li>
<li><p><strong>inserted_entries</strong> – Full list of inserted entires</p></li>
<li><p><strong>migrating_ion_entry</strong> – The metallic phase of the working ion, used to calculate insertion energies.</p></li>
<li><p><strong>symprec</strong> – symmetry parameter for SpacegroupAnalyzer</p></li>
<li><p><strong>ltol</strong> – Fractional length tolerance for StructureMatcher</p></li>
<li><p><strong>stol</strong> – Site tolerance for StructureMatcher</p></li>
<li><p><strong>angle_tol</strong> – Angle tolerance fro StructureMatcher and SpacegroupAnalyzer</p></li>
<li><p><strong>only_single_cat</strong> – If True, only use single cation insertions so the
site energy is more accurate use_strict_tol: halve the ltol and
stol parameter for more strict matching.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of dictionaries that each contain
{‘base’ : Structure Object of host, ‘inserted’ : Structure object of all inserted sites}</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pymatgen.analysis.diffusion.utils.parse_entries.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright 2016, Materials Virtual Lab.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>